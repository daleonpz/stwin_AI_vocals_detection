Neural Network Tools for STM32AI v1.6.0 (STM.ai v7.1.0-RC3)
Created date          : 2023-01-17 17:03:07
Parameters            : generate -m results/model.onnx --type onnx -o ../deployment/X-CUBE-AI/App --name model

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : /home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/trainer/results/model.onnx
type                  : onnx
c_name                : model
compression           : lossless
workspace dir         : /home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/trainer/stm32ai_ws
output dir            : /home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/deployment/X-CUBE-AI/App
model_name            : model
model_hash            : c9e05b1a06909d39ddc78e669490d486
input 1/1             : 'input'
                        2400 items, 9.38 KiB, ai_float, float, (1,6,20,20), domain:user/
output 1/1            : 'output'
                        5 items, 20 B, ai_float, float, (1,1,1,5), domain:user/
params #              : 3,473 items (13.57 KiB)
macc                  : 548,036
weights (ro)          : 13,892 B (13.57 KiB) (1 segment)
activations (rw)      : 21,744 B (21.23 KiB) (1 segment)
ram (total)           : 31,364 B (30.63 KiB) = 21,744 + 9,600 + 20

Model name - model ['input'] ['output']
------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                  oshape         param/size     macc      connected to    |   c_size          c_macc            c_type        
------------------------------------------------------------------------------------------------------------------------------------------------
10   linear_weight (Placeholder)   (1,24,1,5)     120/480                                  |   -480(-100.0%)                    
     linear_bias (Placeholder)     (1,1,1,5)      5/20                                     |   -20(-100.0%)                     
------------------------------------------------------------------------------------------------------------------------------------------------
0    input (Input)                 (1,20,20,6)                                             |                                     transpose()[0]
     node_17 (Conv2D)              (1,20,20,12)   660/2,640      259,212   input           |                   +4,800(+1.9%)     conv2d()[1]   
------------------------------------------------------------------------------------------------------------------------------------------------
1    node_18 (Nonlinearity)        (1,20,20,12)                  4,800     node_17         |                   -4,800(-100.0%)  
------------------------------------------------------------------------------------------------------------------------------------------------
2    node_19 (ScaleBias)           (1,20,20,12)   24/96          9,600     node_18         |                                     bn()[2]       
------------------------------------------------------------------------------------------------------------------------------------------------
3    node_20 (Pool)                (1,10,10,12)                  4,800     node_19         |                                     pool()[3]     
------------------------------------------------------------------------------------------------------------------------------------------------
4    node_21 (Conv2D)              (1,10,10,24)   2,616/10,464   259,224   node_20         |                   +2,400(+0.9%)     conv2d()[4]   
------------------------------------------------------------------------------------------------------------------------------------------------
5    node_22 (Nonlinearity)        (1,10,10,24)                  2,400     node_21         |                   -2,400(-100.0%)  
------------------------------------------------------------------------------------------------------------------------------------------------
6    node_23 (ScaleBias)           (1,10,10,24)   48/192         4,800     node_22         |                                     bn()[5]       
------------------------------------------------------------------------------------------------------------------------------------------------
7    node_24 (Pool)                (1,5,5,24)                    2,400     node_23         |                                     pool()[6]     
------------------------------------------------------------------------------------------------------------------------------------------------
8    node_25 (Pool)                (1,1,1,24)                    600       node_24         |                                     pool()[7]     
------------------------------------------------------------------------------------------------------------------------------------------------
9    node_26 (Reshape)             (1,1,1,24)                              node_25         |                                    
------------------------------------------------------------------------------------------------------------------------------------------------
10   node_27 (Gemm)                (1,1,1,5)                     125       node_26         |   +500(+100.0%)                     gemm()[8]     
                                                                           linear_weight   |  
                                                                           linear_bias     |  
------------------------------------------------------------------------------------------------------------------------------------------------
11   output (Nonlinearity)         (1,1,1,5)                     75        node_27         |                                     nl()/o[9]     
------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=548,036/548,036  weights=13,892/13,892  activations=--/21,744 io=--/9,620



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : model
c-name                : model
c-node #              : 10
c-array #             : 21
activations size      : 21744 (1 segments)
weights size          : 13892 (1 segments)
macc                  : 548036
inputs                : ['input_output']
outputs               : ['output_output']

C-Arrays (21)
-----------------------------------------------------------------------------------------------------
c_id   name (*_array)           item/size    domain/mem-pool           c-type        fmt     comment
-----------------------------------------------------------------------------------------------------
0      input_output             2400/9600    user/                     float         float   /input 
1      input_Transpose_output   2400/9600    activations/**default**   float         float          
2      node_17_output           4800/19200   activations/**default**   float         float          
3      node_19_output           4800/19200   activations/**default**   float         float          
4      node_20_output           1200/4800    activations/**default**   float         float          
5      node_21_output           2400/9600    activations/**default**   float         float          
6      node_23_output           2400/9600    activations/**default**   float         float          
7      node_24_output           600/2400     activations/**default**   float         float          
8      node_25_output           24/96        activations/**default**   float         float          
9      node_27_output           5/20         activations/**default**   float         float          
10     output_output            5/20         user/                     float         float   /output
11     node_17_weights          648/2592     weights/                  const float   float          
12     node_17_bias             12/48        weights/                  const float   float          
13     node_19_scale            12/48        weights/                  const float   float          
14     node_19_bias             12/48        weights/                  const float   float          
15     node_21_weights          2592/10368   weights/                  const float   float          
16     node_21_bias             24/96        weights/                  const float   float          
17     node_23_scale            24/96        weights/                  const float   float          
18     node_23_bias             24/96        weights/                  const float   float          
19     linear_bias              5/20         weights/                  const float   float          
20     linear_weight            120/480      weights/                  const float   float          
-----------------------------------------------------------------------------------------------------

C-Layers (10)
---------------------------------------------------------------------------------------------------------
c_id   name (*_layer)    id   layer_type   macc     rom     tensors                     shape (array id)
---------------------------------------------------------------------------------------------------------
0      input_Transpose   2    transpose    0        0       I: input_output             (1,6,20,20) (0) 
                                                            O: input_Transpose_output   (1,20,20,6) (1) 
---------------------------------------------------------------------------------------------------------
1      node_17           1    conv2d       264012   2640    I: input_Transpose_output   (1,20,20,6) (1) 
                                                            W: node_17_weights          (6,12,3,3) (11) 
                                                            W: node_17_bias             (1,1,1,12) (12) 
                                                            O: node_17_output           (1,20,20,12) (2)
---------------------------------------------------------------------------------------------------------
2      node_19           2    bn           9600     96      I: node_17_output           (1,20,20,12) (2)
                                                            W: node_19_scale            (1,1,1,12) (13) 
                                                            W: node_19_bias             (1,1,1,12) (14) 
                                                            O: node_19_output           (1,20,20,12) (3)
---------------------------------------------------------------------------------------------------------
3      node_20           3    pool         4800     0       I: node_19_output           (1,20,20,12) (3)
                                                            O: node_20_output           (1,10,10,12) (4)
---------------------------------------------------------------------------------------------------------
4      node_21           5    conv2d       261624   10464   I: node_20_output           (1,10,10,12) (4)
                                                            W: node_21_weights          (12,24,3,3) (15)
                                                            W: node_21_bias             (1,1,1,24) (16) 
                                                            O: node_21_output           (1,10,10,24) (5)
---------------------------------------------------------------------------------------------------------
5      node_23           6    bn           4800     192     I: node_21_output           (1,10,10,24) (5)
                                                            W: node_23_scale            (1,1,1,24) (17) 
                                                            W: node_23_bias             (1,1,1,24) (18) 
                                                            O: node_23_output           (1,10,10,24) (6)
---------------------------------------------------------------------------------------------------------
6      node_24           7    pool         2400     0       I: node_23_output           (1,10,10,24) (6)
                                                            O: node_24_output           (1,5,5,24) (7)  
---------------------------------------------------------------------------------------------------------
7      node_25           8    pool         600      0       I: node_24_output           (1,5,5,24) (7)  
                                                            O: node_25_output           (1,1,1,24) (8)  
---------------------------------------------------------------------------------------------------------
8      node_27           10   gemm         125      500     I: node_25_output           (1,1,1,24) (8)  
                                                            I: linear_weight            (1,5,1,24) (20) 
                                                            I: linear_bias              (1,1,1,5) (19)  
                                                            O: node_27_output           (1,1,1,5) (9)   
---------------------------------------------------------------------------------------------------------
9      output            11   nl           75       0       I: node_27_output           (1,1,1,5) (9)   
                                                            O: output_output            (1,1,1,5) (10)  
---------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=548,036 weights=13,892 act=21,744 ram_io=9,620
------------------------------------------------------------------------
id   name      c_macc                    c_rom                     c_id
------------------------------------------------------------------------
0    input     |                  0.0%   |                  0.0%   [0] 
0    node_17   ||||||||||||||||  48.2%   ||||              19.0%   [1] 
2    node_19   |                  1.8%   |                  0.7%   [2] 
3    node_20   |                  0.9%   |                  0.0%   [3] 
4    node_21   |||||||||||||||   47.7%   ||||||||||||||||  75.3%   [4] 
6    node_23   |                  0.9%   |                  1.4%   [5] 
7    node_24   |                  0.4%   |                  0.0%   [6] 
8    node_25   |                  0.1%   |                  0.0%   [7] 
10   node_27   |                  0.0%   |                  3.6%   [8] 
11   output    |                  0.0%   |                  0.0%   [9] 

Generated files (5)
----------------------------------------------------------------------------------------------------------------
/home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/deployment/X-CUBE-AI/App/model_config.h
/home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/deployment/X-CUBE-AI/App/model.h
/home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/deployment/X-CUBE-AI/App/model.c
/home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/deployment/X-CUBE-AI/App/model_data.h
/home/me/Documents/git/mystuff/tinyml/stwin_AI_vowel_detection/deployment/X-CUBE-AI/App/model_data.c
